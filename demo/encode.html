<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MM Services</title>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.828.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <link rel="stylesheet" href="../styles/main.css">
</head>

<body>

<div class="container_grid encode">

<!-- Header -->
    <header id="header">
      <div class="container" id="headerContainer">

        <div class="header-login">

          <img class="profile-img" src="https://images.unsplash.com/photo-1488229297570-58520851e868?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MjJ8fGNvZGV8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=900&q=60" alt="">
          <div class="login-title">User</div>
        </div>
      </div>
     </header>

  <!-- Sidebar Navigation -->
    <aside>
      <h2><i class="fab fa-aws" aria-hidden="true"></i> MM Services </h2>
          
        <a href="../index.html"  id="avail">
          <i class="fab fa-buffer" aria-hidden="true"></i>
            Available Files
        </a>
          
        <a href="./encode.html" class="active" id="encode">
          <i class="fa fa-upload" aria-hidden="true"></i>
          Encode Video Files
        </a>
        <a href="./s3.html" id="s3">
          <i class="fas fa-photo-video" aria-hidden="true"></i>
          S3 Bucket
        </a>
        <a href="./search.html" id="search">
          <i class="fas fa-search" aria-hidden="true"></i>
          Search Archive 
        </a>
        <a href="./archive.html"  id="archive">
          <i class="fas fa-archive" aria-hidden="true"></i>
          Upload to Archive 
        </a>
        <!-- Short Description -->
        <div class="description">
          <p><i class="fas fa-info-circle"></i>Selected files will be encoded and then moved to their respective S3 locations. If there is no folder for the course, one will automatically be created once the encoding process is complete. Once the video has been encoded, the original file will also be moved to the AWS_VideoDump folder.</p>
        </div>
          
    </aside>
   
    <!--Main Section  -->
    <section class="with-note">
      <div class="main-area">
      <!-- File Naming Convention Note -->
      <div class="file-info-note">
        <div class="title"><span class="material-icons icon-color">info</span> Check File Names Before Encoding</div>
        
        <p class="details">Before you choose video files to encode through AWS, please make sure all file name conventions are correct (see example below) in order for encoded videos to transfer into the correct COURSES folder after completion.
          </p>
          <p>
        Correct file name: <span class="file-name-convention">COMM428D_Sampling.mp4</span>,  which will transfer to COURSES/COMM/COMM428D folder.</p>
      </div>

        <div class="card">
          
          <div class="card-header">
            <h2 class="file-location">File Location</h2>
            <h2 class="file-name">File Name</h2>
            <h2 class="file-type">File Type</h2>
            <h2 class="file-size">File Size</h2>
            <h2 class="status">Status</h2>
          </div>
        
          <div class="card-content">
          
            <!-- Lists out files as added -->
            <div id="fileDetails" class="file-details">
            </div>                

            <div class="drag-area" id="drop-area">
              <div class="icon"><i class="fas fa-cloud-upload-alt"></i></div>
                <h2 id="select-file"> Drag & Drop Assets to Encode</h2>
                            <span>or</span>
                  <button class="btn upload" id="browse-btn" onchange="handleFiles(this.files)">Browse Files</button>
    
                  <input type = "file" id="fileElem" multiple accept ="video/mp4,video/x-m4v,video/*" onchange="handleFiles(this.files)" hidden>
    
                  <progress type="range" class="progress" id="progress-bar" min="0" max="100" step="0.1" value="0"> </progress>
              </div>
            </div>
        </div>
      </div>

      <div class="continue-container">
        <button class="btn" id="encodeBtn" disabled >Encode File(s)</button>
    
    
        <div id="gallery"></div>
    
        <div id ="myModal" class="modal">
            <div class="modal-box">
              <h2>Encode Video Files</h2>
              <span class="close"><i class="fas fa-times"></i></span>
              <div class="content">
                Videos will be encoded into 3 different formats (low, med, high)
                Would you like to encode these video files? 
                  </div>
              <div class="navigation">
                  <button class="btn-sm" id="upload-s3">Yes, Encode!</button>
                <button class="btn-sm remove-btn" id="backBtn">No, Take me back</button>
              </div>    
    
            </div>
            </div>
        </div>       
      </section>
    </div>
    <script src="../src/encode.js"></script>
  </body>
</html>